---
title: "Teen_exercise_group"
date: 2022-05-05T20:01:36+08:00
lastmod:
tags: []
categories: []
slug:
draft: true
---
## go
### 基础
SwitchyOmega Chrome的一个插件，可以设置切换代理。
### 工程实践
#### 语言进阶
go是通过通信实现共享内存，而不是通过共享内存实现通信（不过也保存了这个机制）。共享内存会导致数据竞态问题，需要加锁实现互斥，性能受限。

无缓冲通道==同步通道

使用Sync.WaitGroup实现并发任务的同步

#### 依赖管理

工程项目不可能基于标准库0-1搭建

gopath->go verder->go module控制依赖库的版本

verder其实也是依赖的项目源码，不能清晰标识版本的代码，控制依赖的版本不方便，更新项目又可能出现依赖冲突，导致编译错误。

依赖配置:indirect 和 incompatible

MVS算法--最小版本选择。
**选择最低的兼容版本**


#### 测试
回归测试、集成测试、单元测试（成本降低，覆盖率上升）

外部依赖（db、cache、file）=》稳定&幂等

mock 
- monkey:github.com/bouk/monkey

快速mock函数
- 为一个函数打桩
- 为一个方法打桩

#### 项目实战
项目需求，需求拆解、逻辑设计、代码实现、测试运行

E-R图

分层结构：
- 数据层
    - 增删查改
- 逻辑层
    - 核心业务逻辑
- 视图层
    - 处理交互逻辑
### 高质量编程与性能调优实战
1. 简洁代码
    - 注释怎么写：代码作用，如何做的，实现原因，什么情况会出错，接口注释不重要，公共符号要有注释。代码就是最好的注释，注释应该表达出代码为表达出的上下文信息。
    - 命名规范：简洁胜于冗长，变量距离其使用的地方越远，则需要携带越多的上下文信息。函数参数一般要具备足够的信息。函数名不携带包名的上下文信息。包名只有小写，没有大写与下划线，单数非复数。
    - 线性原理，避免复杂嵌套分支。
    - 不建议业务使用panic
2. 程序优化手段
    - slice map预分配容量更好，在已有切片上创建切片可能导致大内存无法释放
    - 字符串处理：直接相加代价极高，strings.Builder（直接将底层byte数组转化成字符串类型返回）和bytes.Buffer（转化为字符串时重新申请了一块空间）性能更优，前者更快（二者底层都是[]byte）
    - 使用空结构体节省内存，不占内存，占位符。
    - 使用atomic包
3. 性能分析工具
    - pprof
![](https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220512105652.png)
4. 性能优化的原则和流程
    - 看数据而不是猜测
    - 定位最大瓶颈
    - 不要过早、过度优化


### 高性能go语言发行版优化和落地实践

